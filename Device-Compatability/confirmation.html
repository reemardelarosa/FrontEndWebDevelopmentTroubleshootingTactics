<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>The Convention - Confirmation</title>
		<link rel="stylesheet" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
		<link rel="stylesheet" href="css/custom.css"/>
	</head>

	<body>
		<nav class="navbar navbar-static-top navbar-dark bg-inverse">
		  <ul class="nav navbar-nav">
			<li class="nav-item active">
			  <a class="nav-link" href="home.html">Home</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href="events.html">Events</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href="schedule.html">Schedule</a>
			</li>
		  </ul>
		</nav>				

		<div class="container">
			<h1>Confirmation</h1>
			<p id="confirmationText"></p> 
			  
			<hr />
		  
		</div> <!-- /container -->


		<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<!--<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>-->

		<script type="text/javascript">
			var events = [
				{id:"1", 
				title:"Batdude vs. Flyguy Q&A Panel", 
				description:"Your favorite superheroes, Batdude and Flyguy team up for this once in a lifetime Q&A Panel! Attendees will be able to line up and ask questions of these two heroes. Please keep your question short, to the point, and family friendly.",
				schedule:"Saturday 11AM"},
				{id:"2", 
				title:"Costume Contest", 
				description:"You have worked hard on your cosplay for this convention, why not take part in our costume contest! Awards are given in the following categories: Men, Women, Children, and Group.",
				schedule:"Saturday 1PM"},
				{id:"3", 
				title:"How to Build a Droid", 
				description:"These are the droids you are looking for! Learn how to build your own working droid from start to finish. Also learn tips to keep your droid from taking over the world.",
				schedule:"Saturday 3PM"},
				{id:"4", 
				title:"Major Freedom vs. Metal Man Q&A Panel", 
				description:"Your favorite superheroes, Major Freedom and Metal Man team up for this once in a lifetime Q&A Panel! Attendees will be able to line up and ask questions of these two heroes. Please keep your question short, to the point, and family friendly.",
				schedule:"Sunday 11AM"},
				{id:"5", 
				title:"World of Games Tournament", 
				description:"Compete with other players around the world in this year's World of Games Tournament! The victor will get a $10,000 cash prize and bragging rights for being the best of the best.",
				schedule:"Sunday 1PM"},
				{id:"6", 
				title:"How to Build a Time Machine", 
				description:"We're going back in time! Learn from the time traveling experts themselves including the ins and outs of time travel, the butterfly effect, and building a time machine from start to finish.",
				schedule:"Sunday 3PM"}
			];
			
			function loadRegistration() {
				var eventId = findWithAttr(events, "id", GetQueryStringParams("id"));
				var firstName = GetQueryStringParams("firstName");
				var lastName = GetQueryStringParams("lastName");
				if (eventId != undefined && firstName != undefined && lastName != undefined)
				{
					document.getElementById("confirmationText").innerHTML = 
						"Congratulations, " + firstName + " " + lastName + "! You are successfully registered for the following event:<br /><br />" + events[eventId].title + "<br />" + events[eventId].schedule;
				}
			}

			function GetQueryStringParams(sParam)
			{
				var sPageURL = window.location.search.substring(1);
				var sURLVariables = sPageURL.split('&');
				for (var i = 0; i < sURLVariables.length; i++) 
				{
					var sParameterName = sURLVariables[i].split('=');
					if (sParameterName[0] == sParam) 
					{
						return sParameterName[1];
					}
				}
			}
			
			window.onload = loadRegistration();
			
			function findWithAttr(arr, attr, val) {
				for(var i = 0; i < arr.length; i++) {
					if(arr[i][attr] === val) {
						return i;
					}
				}
			}
		</script>
	</body>
</html>