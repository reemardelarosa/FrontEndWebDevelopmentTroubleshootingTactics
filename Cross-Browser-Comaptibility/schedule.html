<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>The Convention - Schedule</title>
		<link rel="stylesheet" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
		<link rel="stylesheet" href="css/custom.css"/>
	</head>

	<body>
		<nav class="navbar navbar-static-top navbar-dark bg-inverse">
		  <ul class="nav navbar-nav">
			<li class="nav-item active">
			  <a class="nav-link" href="home.html">Home</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href="events.html">Events</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href="schedule.html">Schedule <span class="sr-only">(current)</span></a>
			</li>
		  </ul>
		</nav>				

		<div class="container">
		  <div class="header">
			<h1>Schedule</h1>
			<hr />
			<p>
				This page lists all of the events that you can register for during The Convention. You can register for multiple events by checking the registration checkbox for each event you wish to attend.
			</p>
		  </div>
		  
		  <table class="table table-striped">
			<thead>
			  <tr>
				<th>Event Name</th>
				<th>Time</th>
				<th>Register</th>
			  </tr>
			</thead>
			<tbody>
			  <tr>
				<td id="event1Title"></td>
				<td id="event1Schedule"></td>
				<td><input id="event1Register" type="checkbox" data-id="1" /></td>
			  </tr>
			  <tr>
				<td id="event2Title"></td>
				<td id="event2Schedule"></td>
				<td><input id="event2Register" type="checkbox" data-id="2" /></td>
			  </tr>
			  <tr>
				<td id="event3Title"></td>
				<td id="event3Schedule"></td>
				<td><input id="event3Register" type="checkbox" data-id="3" /></td>
			  </tr>
			  <tr>
				<td id="event4Title"></td>
				<td id="event4Schedule"></td>
				<td><input id="event4Register" type="checkbox" data-id="4" /></td>
			  </tr>
			  <tr>
				<td id="event5Title"></td>
				<td id="event5Schedule"></td>
				<td><input id="event5Register" type="checkbox" data-id="5" /></td>
			  </tr>
			  <tr>
				<td id="event6Title"></td>
				<td id="event6Schedule"></td>
				<td><input id="event6Register" type="checkbox" data-id="6" /></td>
			  </tr>
			</tbody>
		  </table>
		  
		  <div class="registration">
			  <p><a class="btn btn-primary btn-lg" href="#" role="button" data-toggle="modal" data-target="#registrationModal">Register &raquo;</a></p>
			  <hr />
			  
			  <div id="confirmationContainer" class="hidden">
				<h1>Confirmation</h1>
				<p id="confirmationText"></p>
				<table id="confirmationTable" class="table"></table>
			  </div>		
		  </div>
		  
		</div> <!-- /container -->	

		<!-- Modal -->
		<div id="registrationModal" class="modal fade" role="dialog">
		  <div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
			  <div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Event Registration</h4>
			  </div>
			  <div class="modal-body">
				<p>Please enter your name for registration.</p>
				<div>
					<span>First Name</span>&nbsp;<input type="text" id="firstName"/>
					<span>Last Name</span>&nbsp;<input type="text" id="lastName"/>
				</div>
			  </div>
			  <div class="modal-footer">
				<button type="button" class="btn btn-default" onclick="confirmRegistration()">Register</button>
			  </div>
			</div>

		  </div>
		</div>
		
		<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		
		<script type="text/javascript">
			var events = [
				{id:"1", 
				title:"Batdude vs. Flyguy Q&A Panel", 
				description:"Your favorite superheroes, Batdude and Flyguy team up for this once in a lifetime Q&A Panel! Attendees will be able to line up and ask questions of these two heroes. Please keep your question short, to the point, and family friendly.",
				schedule:"Saturday 11AM"},
				{id:"2", 
				title:"Costume Contest", 
				description:"You have worked hard on your cosplay for this convention, why not take part in our costume contest! Awards are given in the following categories: Men, Women, Children, and Group.",
				schedule:"Saturday 1PM"},
				{id:"3", 
				title:"How to Build a Droid", 
				description:"These are the droids you are looking for! Learn how to build your own working droid from start to finish. Also learn tips to keep your droid from taking over the world.",
				schedule:"Saturday 3PM"},
				{id:"4", 
				title:"Major Freedom vs. Metal Man Q&A Panel", 
				description:"Your favorite superheroes, Major Freedom and Metal Man team up for this once in a lifetime Q&A Panel! Attendees will be able to line up and ask questions of these two heroes. Please keep your question short, to the point, and family friendly.",
				schedule:"Sunday 11AM"},
				{id:"0", 
				title:"test", 
				description:"test",
				schedule:"test"},
				{id:"5", 
				title:"World of Games Tournament", 
				description:"Compete with other players around the world in this year's World of Games Tournament! The victor will get a $10,000 cash prize and bragging rights for being the best of the best.",
				schedule:"Sunday 1PM"},
				{id:"6", 
				title:"How to Build a Time Machine", 
				description:"We're going back in time! Learn from the time traveling experts themselves including the ins and outs of time travel, the butterfly effect, and building a time machine from start to finish.",
				schedule:"Sunday 3PM"}
			];
			
			function loadSchedule() {
				events.splice(4,1);
				
				document.getElementById("event1Title").innerHTML = events[0].title;
				document.getElementById("event1Schedule").innerHTML = events[0].schedule;
				
				document.getElementById("event2Title").innerHTML = events[1].title;
				document.getElementById("event2Schedule").innerHTML = events[1].schedule;
				
				document.getElementById("event3Title").innerHTML = events[2].title;
				document.getElementById("event3Schedule").innerHTML = events[2].schedule;
				
				document.getElementById("event4Title").innerHTML = events[3].title;
				document.getElementById("event4Schedule").innerHTML = events[3].schedule;
				
				document.getElementById("event5Title").innerHTML = events[4].title;
				document.getElementById("event5Schedule").innerHTML = events[4].schedule;
				
				document.getElementById("event6Title").innerHTML = events[5].title;
				document.getElementById("event6Schedule").innerHTML = events[5].schedule;				
			}
			
			function confirmRegistration(){
				var firstName = document.getElementById("firstName").value;
				var lastName = document.getElementById("lastName").value;
				document.getElementById("confirmationText").innerHTML = "Congratulations, " + firstName + " " + lastName + "! You are successfully registered for the following events:";
				
				var table = document.getElementById("confirmationTable");				
				var inputs = document.getElementsByTagName("input");
				for(var i = 0; i < inputs.length; i++) {
					if(inputs[i].type.toLowerCase() == "checkbox") {
						if (inputs[i].checked == true) {
							var eventArrayPosition = findWithAttr(events, "id", inputs[i].getAttribute("data-id"));
							var row = table.insertRow();
							var cell1 = row.insertCell(0);
							var cell2 = row.insertCell(1);
							cell1.innerHTML = events[eventArrayPosition].title;
							cell2.innerHTML = events[eventArrayPosition].schedule;							
						}
					}
				}
				
				$('#registrationModal').modal('hide');
				$("#confirmationContainer").removeClass("hidden");
			}
			
			function findWithAttr(arr, attr, val) {
				for(var i = 0; i < arr.length; i++) {
					if(arr[i][attr] === val) {
						return i;
					}
				}
			}
			
			window.onload = loadSchedule();
		</script>
	</body>
</html>